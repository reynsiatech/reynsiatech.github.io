
<!DOCTYPE html>
<html>
<head>
<title>Unchaai Quiz - Organic Chemistry</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</head>
<body>
<nav>
<div class="nav-wrapper" style="background-color: #5E50F9;">
<a href="#" class="brand-logo">UnchaAI</a>
</div>
</nav>
<div class="row">
<div class="col s12 m8 l6 offset-m2 offset-l3">
<div class="test_title" style="text-align: center">
<h3>
Grignard Reagent
</h3>
<p>Please try to answer the following questions correctly!</p>
</div>
<form id="question_form">

<div class="question">
<h5>Question #1</h5>
<img class="responsive-img" src="Q/1.PNG">
<p>
<label>
<input name="quest1" value="A" type="radio" />
<span>Option A</span>
</label>
</p>
<p>
<label>
<input name="quest1" value="B" type="radio" />
<span>Option B</span>
</label>
</p>

<p>
<label>
<input name="quest1" value="C" type="radio" />
<span>Option C</span>
</label>
</p>


<p>
<label>
<input name="quest1" value="D" type="radio" />
<span>Option D</span>
</label>
</p>
</div>
</br></br>

<div class="question">
<h5>Question #2</h5>
<img class="responsive-img" src="Q/2.PNG">
<p>
<label>
<input name="quest2" value="A" type="radio" />
<span>Option A</span>
</label>
</p>
<p>
<label>
<input name="quest2" value="B" type="radio" />
<span>Option B</span>
</label>
</p>

<p>
<label>
<input name="quest2" value="C" type="radio" />
<span>Option C</span>
</label>
</p>


<p>
<label>
<input name="quest2" value="D" type="radio" />
<span>Option D</span>
</label>
</p>
</div>
</br></br>

<div class="question">
<h5>Question #3</h5>
<img class="responsive-img" src="Q/3.PNG">
<p>
<label>
<input name="quest3" value="A" type="radio" />
<span>Option A</span>
</label>
</p>
<p>
<label>
<input name="quest3" value="B" type="radio" />
<span>Option B</span>
</label>
</p>

<p>
<label>
<input name="quest3" value="C" type="radio" />
<span>Option C</span>
</label>
</p>


<p>
<label>
<input name="quest3" value="D" type="radio" />
<span>Option D</span>
</label>
</p>
</div>
</br></br>

</form>
<div id="confirm_submit" class="modal">
<div class="modal-content">
<h5>Are you sure, you want to submit the quiz?</h5>
</div>
<div class="row">
<div class="col s10 offset-s1">
<form>
<input type="text" name="name" placeholder="Enter your name!!" id="name">
<input type="text" name="mobile_no" placeholder="Enter your mobile no!!" id="mobile_no">
</form>
</div>
</div>
<div class="modal-footer">
<button class="modal-close btn waves-effect waves-light blue">Cancel</button>
<button class="btn waves-effect waves-light blue" onclick="evaluate_quiz()">Submit</button>
</div>
</div>
<div id="submit_button" style="text-align: center; margin-top: 30px; margin-bottom: 40px;">
<button class="btn waves-effect waves-light blue modal-trigger" href="#confirm_submit">Submit Quiz</button>
</div>
<div id="quiz_score">
<h3>You have scored</h3>
<h2 class="score"></h2>
<h4>in the given quiz!!!</h4>
<button class="btn waves-effect waves-light" onclick="see_solution()">See Solution</button>
</div>
<div id="quiz_solution">

<h5>Question #1</h5>
<img class="responsive-img" src="Q/1.PNG">
<h6>Solution: D</h6>
<img class="responsive-img" src="A/1.PNG">
</br></br>

<h5>Question #2</h5>
<img class="responsive-img" src="Q/2.PNG">
<h6>Solution: B</h6>
<img class="responsive-img" src="A/2.PNG">
</br></br>

<h5>Question #3</h5>
<img class="responsive-img" src="Q/3.PNG">
<h6>Solution: B</h6>
<img class="responsive-img" src="A/3.PNG">
</br></br>

</div>
</div>
</div>
<script>
$(document).ready(function(){
$('.modal').modal();
$("#quiz_score").hide();
$("#quiz_solution").hide();
});
var correect_answers = ['D', 'B', 'B']
function print_score(score) {
$("#question_form").remove();
$("#submit_button").remove();
$("#quiz_score").show();
$(".score").append("<strong>" + score + "%</strong>");
}

function get_results(user_ans) {
var len = correect_answers.length;
var num_correct = 0;
for (var i = 0; i < len; i++) {
if (user_ans[i] == correect_answers[i]) {
num_correct += 1;
}
}
var score = (num_correct/len) * 100;
return score;
}

function evaluate_quiz(){
var name = document.getElementById("name").value;
var mobile_no = document.getElementById("mobile_no").value;
if (name != "" && mobile_no != "") {
$('.modal').modal('close');
var num_quest = $(".question").length;
var user_answers = [];
for (var i = 1; i <= num_quest; i++) {
var ans = $("input[name = 'quest"+i+"']:checked").val();
if (ans) {user_answers.push(ans);}
else {user_answers.push("");}
}
var score = get_results(user_answers);
submit_form(name, mobile_no, score);
print_score(score);
}
}

function submit_form(name, mobile_no, score) {
var page_location = window.location.href;
var res = page_location.split("/");
res = res[res.length - 1];
res = res.split(".");
var page_name = res[0];

$.ajax({
url: 'https://script.google.com/macros/s/AKfycby-uchi8wXfa0Y0g0tKY9KeUbpRSMlGLnWgGmeMGwatPhrhqWI/exec',
type: 'POST',
data: {
"Name": name,
"Mobile_No": mobile_no,
"Score": score,
"quiz_name": page_name
},
error: function() {
console.log("Your form didn't submitted!!!")
},
success: function(data) {

},
});
}

function see_solution() {
$("#quiz_score").remove()
$("#quiz_solution").show();
}
</script>
</body>
</html>

